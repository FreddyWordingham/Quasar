<style>
    .widget.command {
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translate(-50%, -100%);
    }

    .content.command {
        overflow: hidden !important;
    }
</style>

<div class="input-group">
    <input
        id="command-input"
        type="text"
        class="form-control"
        placeholder="Command line interface"
        onkeyup="$command.process_keystroke(event)"
    />
    <button
        id="command-submit"
        type="button"
        class="btn btn-primary"
        onclick="$command.submit()"
    >
        Submit
    </button>
</div>

<script>
    $command = {
        process_keystroke: function (event) {
            if (event.keyCode === 13) {
                $("#command-submit").click();
            }
        },

        submit: function () {
            let command = $("#command-input").val();

            $.ajax({
                url: "/session/id/" + $session_id + "/write",
                type: "post",
                contentType: "application/json",
                data: JSON.stringify({
                    command: command,
                }),
                success: function (response) {
                    $("#command-input").val("");
                },
                error: function () {
                    console.log("error");
                },
            });
        },
    };
</script>
